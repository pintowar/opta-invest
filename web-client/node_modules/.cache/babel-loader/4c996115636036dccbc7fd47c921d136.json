{"remainingRequest":"/home/thiago/Projects/code/opta-invest/client/node_modules/thread-loader/dist/cjs.js!/home/thiago/Projects/code/opta-invest/client/node_modules/babel-loader/lib/index.js!/home/thiago/Projects/code/opta-invest/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/thiago/Projects/code/opta-invest/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/thiago/Projects/code/opta-invest/client/src/pages/portfolio/show.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/thiago/Projects/code/opta-invest/client/src/pages/portfolio/show.vue","mtime":1597016519791},{"path":"/home/thiago/Projects/code/opta-invest/client/node_modules/cache-loader/dist/cjs.js","mtime":1597018277274},{"path":"/home/thiago/Projects/code/opta-invest/client/node_modules/thread-loader/dist/cjs.js","mtime":1589656986772},{"path":"/home/thiago/Projects/code/opta-invest/client/node_modules/babel-loader/lib/index.js","mtime":1597018266734},{"path":"/home/thiago/Projects/code/opta-invest/client/node_modules/cache-loader/dist/cjs.js","mtime":1597018277274},{"path":"/home/thiago/Projects/code/opta-invest/client/node_modules/vue-loader/lib/index.js","mtime":1597018277682}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport SockJS from 'sockjs-client';\nimport Stomp from 'stompjs';\nimport CorrMatrix from '@/components/portfolio/matrix.vue';\nimport Assets from '@/components/portfolio/assets.vue';\nimport Allocation from '@/components/portfolio/allocation.vue';\nexport default {\n  name: 'portfolio',\n  data: function data() {\n    return {\n      title: 'Portfolio ' + this.$route.params.id,\n      portfolio: {},\n      status: 'NONE'\n    };\n  },\n  components: {\n    'corr-matrix': CorrMatrix,\n    'assets': Assets,\n    'allocation': Allocation\n  },\n  created: function created() {\n    var _this = this;\n\n    this.portfolioId = Number(this.$route.params.id);\n    var socket = new SockJS('/stomp');\n    this.client = Stomp.over(socket);\n    this.client.debug = null;\n    var self = this;\n    this.client.connect({}, function (frame) {\n      console.log('Connected: ' + frame);\n      self.client.subscribe('/topic/solution', function (message) {\n        var data = JSON.parse(message.body); // console.log(data.status)\n\n        if (data.id === _this.portfolioId) {\n          self.status = data.status;\n          self.portfolio = data.portfolio;\n        }\n      });\n    });\n    axios.get(\"/api/portfolio/\".concat(this.portfolioId)).then(function (res) {\n      _this.status = res.data.status;\n      _this.portfolio = res.data.investment;\n      _this.title = \"Portfolio \".concat(_this.portfolio.name);\n    }, function (error) {\n      console.error(error);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.client.disconnect();\n  },\n  methods: {\n    changeStatus: function changeStatus(newStatus) {\n      this.status = newStatus;\n    }\n  }\n};",{"version":3,"sources":["show.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAiBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,eAAA;AACA,OAAA,KAAA,MAAA,SAAA;AACA,OAAA,UAAA,MAAA,mCAAA;AACA,OAAA,MAAA,MAAA,mCAAA;AACA,OAAA,UAAA,MAAA,uCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,eAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,UAAA,EAAA;AACA,mBAAA,UADA;AAEA,cAAA,MAFA;AAGA,kBAAA;AAHA,GATA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AACA,SAAA,WAAA,GAAA,MAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,CAAA;AAEA,QAAA,MAAA,GAAA,IAAA,MAAA,CAAA,QAAA,CAAA;AACA,SAAA,MAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,SAAA,MAAA,CAAA,OAAA,CAAA,EAAA,EAAA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,KAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,SAAA,CAAA,iBAAA,EAAA,UAAA,OAAA,EAAA;AACA,YAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CADA,CAEA;;AACA,YAAA,IAAA,CAAA,EAAA,KAAA,KAAA,CAAA,WAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,GAAA,IAAA,CAAA,MAAA;AACA,UAAA,IAAA,CAAA,SAAA,GAAA,IAAA,CAAA,SAAA;AACA;AACA,OAPA;AAQA,KAVA;AAYA,IAAA,KAAA,CAAA,GAAA,0BAAA,KAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,UAAA;AACA,MAAA,KAAA,CAAA,KAAA,uBAAA,KAAA,CAAA,SAAA,CAAA,IAAA;AACA,KAJA,EAIA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA,KANA;AAOA,GAxCA;AAyCA,EAAA,aAzCA,2BAyCA;AACA,SAAA,MAAA,CAAA,UAAA;AACA,GA3CA;AA4CA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,SADA,EACA;AACA,WAAA,MAAA,GAAA,SAAA;AACA;AAHA;AA5CA,CAAA","sourcesContent":["<template>\n  <b-card no-body>\n    <b-tabs card>\n      <b-tab title=\"Allocation\" active>\n        <allocation :title=\"title\" :portfolio=\"portfolio\" :status=\"status\" @newStatus=\"changeStatus\" />\n      </b-tab>\n      <b-tab title=\"Info\">\n        <assets :title=\"title\" :portfolio=\"portfolio\" :status=\"status\" />\n      </b-tab>\n      <b-tab title=\"Correlation Matrix\">\n        <corr-matrix :title=\"title\" :portfolio=\"portfolio\" />\n      </b-tab>\n    </b-tabs>\n  </b-card>\n</template>\n\n<script>\nimport axios from 'axios'\nimport SockJS from 'sockjs-client'\nimport Stomp from 'stompjs'\nimport CorrMatrix from '@/components/portfolio/matrix.vue'\nimport Assets from '@/components/portfolio/assets.vue'\nimport Allocation from '@/components/portfolio/allocation.vue'\n\nexport default {\n  name: 'portfolio',\n  data () {\n    return {\n      title: 'Portfolio ' + this.$route.params.id,\n      portfolio: {},\n      status: 'NONE'\n    }\n  },\n  components: {\n    'corr-matrix': CorrMatrix,\n    'assets': Assets,\n    'allocation': Allocation\n  },\n  created () {\n    this.portfolioId = Number(this.$route.params.id)\n\n    const socket = new SockJS('/stomp')\n    this.client = Stomp.over(socket)\n    this.client.debug = null\n    let self = this\n    this.client.connect({}, frame => {\n      console.log('Connected: ' + frame)\n      self.client.subscribe('/topic/solution', message => {\n        const data = JSON.parse(message.body)\n        // console.log(data.status)\n        if (data.id === this.portfolioId) {\n          self.status = data.status\n          self.portfolio = data.portfolio\n        }\n      })\n    })\n\n    axios.get(`/api/portfolio/${this.portfolioId}`).then(res => {\n      this.status = res.data.status\n      this.portfolio = res.data.investment\n      this.title = `Portfolio ${this.portfolio.name}`\n    }, error => {\n      console.error(error)\n    })\n  },\n  beforeDestroy () {\n    this.client.disconnect()\n  },\n  methods: {\n    changeStatus (newStatus) {\n      this.status = newStatus\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/pages/portfolio"}]}